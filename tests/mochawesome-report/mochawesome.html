<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:14,&quot;tests&quot;:66,&quot;passes&quot;:66,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2022-07-22T12:22:18.890Z&quot;,&quot;end&quot;:&quot;2022-07-22T12:25:42.697Z&quot;,&quot;duration&quot;:203807,&quot;testsRegistered&quot;:66,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;84a14f6e-8fd5-4964-baad-caa073b6e8dc&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;82bd23e0-3746-474b-b8be-d5cd27040537&quot;,&quot;title&quot;:&quot;Contract Deployment&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;TB private collection contract deployment should succeed&quot;,&quot;fullTitle&quot;:&quot;Contract Deployment TB private collection contract deployment should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1938,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;[tb, _] = await deploy(\n    &#x27;../contract/tokenized-bond.arl&#x27;,\n    {\n        parameters: {\n            owner: owner.pkh,\n        },\n        as: owner.pkh,\n    }\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c8eba97-f088-44ad-a4db-93688c430090&quot;,&quot;parentUUID&quot;:&quot;82bd23e0-3746-474b-b8be-d5cd27040537&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7c8eba97-f088-44ad-a4db-93688c430090&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1938,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;7b53b539-6385-4b1d-9394-0f7ff83b5c19&quot;,&quot;title&quot;:&quot;Contract Metadata&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Set metadata called by not owner should fail&quot;,&quot;fullTitle&quot;:&quot;Contract Metadata Set metadata called by not owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1629,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    const argM = `(Pair \&quot;key\&quot; 0x)`;\n    await tb.set_metadata({\n        argMichelson: argM,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49101b05-69a0-4d4f-a52e-22bfe1d3f901&quot;,&quot;parentUUID&quot;:&quot;7b53b539-6385-4b1d-9394-0f7ff83b5c19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Set metadata with empty content should succeed&quot;,&quot;fullTitle&quot;:&quot;Contract Metadata Set metadata with empty content should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3376,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const argM = `(Pair \&quot;key\&quot; 0x)`;\nconst storage = await tb.getStorage();\nawait tb.set_metadata({\n    argMichelson: argM,\n    as: owner.pkh,\n});\nvar metadata = await getValueFromBigMap(\n    parseInt(storage.metadata),\n    exprMichelineToJson(`\&quot;\&quot;`),\n    exprMichelineToJson(`string&#x27;`)\n);\nassert(metadata.bytes == &#x27;&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9c9219e-43a7-4bf9-9123-e1d59de3526f&quot;,&quot;parentUUID&quot;:&quot;7b53b539-6385-4b1d-9394-0f7ff83b5c19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Set metadata with valid content should succeed&quot;,&quot;fullTitle&quot;:&quot;Contract Metadata Set metadata with valid content should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3396,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const bytes =\n    &#x27;0x05070707070a00000016016a5569553c34c4bfe352ad21740dea4e2faad3da000a00000004f5f466ab070700000a000000209aabe91d035d02ffb550bb9ea6fe19970f6fb41b5e69459a60b1ae401192a2dc&#x27;;\nconst argM = `(Pair \&quot;\&quot; ${bytes})`;\nconst storage = await tb.getStorage();\nawait tb.set_metadata({\n    argMichelson: argM,\n    as: owner.pkh,\n});\nvar metadata = await getValueFromBigMap(\n    parseInt(storage.metadata),\n    exprMichelineToJson(`\&quot;\&quot;`),\n    exprMichelineToJson(`string&#x27;`)\n);\nassert(&#x27;0x&#x27; + metadata.bytes == bytes);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0434c4ce-b356-4187-98e7-e5bce351c635&quot;,&quot;parentUUID&quot;:&quot;7b53b539-6385-4b1d-9394-0f7ff83b5c19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;49101b05-69a0-4d4f-a52e-22bfe1d3f901&quot;,&quot;e9c9219e-43a7-4bf9-9123-e1d59de3526f&quot;,&quot;0434c4ce-b356-4187-98e7-e5bce351c635&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8401,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;a1a50a67-d8bc-45b2-beb0-420837db7572&quot;,&quot;title&quot;:&quot;Ownership Transfer&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Transfer ownership as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Ownership Transfer Transfer ownership as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1634,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.transfer_ownership({\n        argMichelson: `\&quot;${outsider.pkh}\&quot;`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3317120e-6d4c-46a1-9168-6150c4922e09&quot;,&quot;parentUUID&quot;:&quot;a1a50a67-d8bc-45b2-beb0-420837db7572&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Accepts ownership before transfer ownership should fail&quot;,&quot;fullTitle&quot;:&quot;Ownership Transfer Accepts ownership before transfer ownership should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2707,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.owner_candidate == null);\nawait expectToThrow(async () =&gt; {\n    await tb.accept_ownership({\n        as: owner2.pkh,\n    });\n}, errors.NO_CANDIDATE);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;becbb9f3-9f5c-4146-b677-11e3dd61b07f&quot;,&quot;parentUUID&quot;:&quot;a1a50a67-d8bc-45b2-beb0-420837db7572&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Transfer ownership as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Ownership Transfer Transfer ownership as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2877,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.owner == owner.pkh);\nawait tb.transfer_ownership({\n    argMichelson: `\&quot;${owner2.pkh}\&quot;`,\n    as: owner.pkh,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca14afc2-e1ae-4cc3-9cb0-899255eb6681&quot;,&quot;parentUUID&quot;:&quot;a1a50a67-d8bc-45b2-beb0-420837db7572&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Accepts ownership as non-new-onwer should fail&quot;,&quot;fullTitle&quot;:&quot;Ownership Transfer Accepts ownership as non-new-onwer should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1623,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.accept_ownership({\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d12ec9c8-2305-4473-8146-31cb72b0ae4a&quot;,&quot;parentUUID&quot;:&quot;a1a50a67-d8bc-45b2-beb0-420837db7572&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Accept ownership as new owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Ownership Transfer Accept ownership as new owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3935,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.owner_candidate == owner2.pkh);\nawait tb.accept_ownership({\n    as: owner2.pkh,\n});\nstorage = await tb.getStorage();\nassert(storage.owner == owner2.pkh);\nassert(storage.owner_candidate == null);\nowner = owner2;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d031c9a-466d-4bf7-9c13-b5f157d7289e&quot;,&quot;parentUUID&quot;:&quot;a1a50a67-d8bc-45b2-beb0-420837db7572&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3317120e-6d4c-46a1-9168-6150c4922e09&quot;,&quot;becbb9f3-9f5c-4146-b677-11e3dd61b07f&quot;,&quot;ca14afc2-e1ae-4cc3-9cb0-899255eb6681&quot;,&quot;d12ec9c8-2305-4473-8146-31cb72b0ae4a&quot;,&quot;8d031c9a-466d-4bf7-9c13-b5f157d7289e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12776,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;a8f748af-119e-4a0f-a498-1a94588622bf&quot;,&quot;title&quot;:&quot;Contract Pause&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Pause contract as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Contract Pause Pause contract as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2715,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.paused == false);\nawait expectToThrow(async () =&gt; {\n    await tb.pause({\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;550748da-2619-4acf-83e7-e3b90b88f15b&quot;,&quot;parentUUID&quot;:&quot;a8f748af-119e-4a0f-a498-1a94588622bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Pause contract as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Contract Pause Pause contract as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3942,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.paused == false);\nawait tb.pause({\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\nassert(storage.paused = true)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d752bf56-45a5-408a-8db5-585afd65e317&quot;,&quot;parentUUID&quot;:&quot;a8f748af-119e-4a0f-a498-1a94588622bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Pause already paused contract should fail&quot;,&quot;fullTitle&quot;:&quot;Contract Pause Pause already paused contract should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2706,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.paused == true);\nawait expectToThrow(async () =&gt; {\n    await tb.pause({\n        as: owner.pkh,\n    });\n}, errors.CONTRACT_PAUSED);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88a9dece-65b0-4822-8005-d4f07d2e3d2b&quot;,&quot;parentUUID&quot;:&quot;a8f748af-119e-4a0f-a498-1a94588622bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unpause contract as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Contract Pause Unpause contract as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2711,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.paused == true);\nawait expectToThrow(async () =&gt; {\n    await tb.unpause({\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87dc9b61-4e8d-4b21-a01f-d0553d698ec8&quot;,&quot;parentUUID&quot;:&quot;a8f748af-119e-4a0f-a498-1a94588622bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unpause contract as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Contract Pause Unpause contract as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3942,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.paused == true);\nawait tb.unpause({\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\nassert(storage.paused == false)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc55bd4e-d2fa-4d81-93d6-1a1d238ec0c9&quot;,&quot;parentUUID&quot;:&quot;a8f748af-119e-4a0f-a498-1a94588622bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unpause already paused contract should fail&quot;,&quot;fullTitle&quot;:&quot;Contract Pause Unpause already paused contract should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2709,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.paused == false);\nawait expectToThrow(async () =&gt; {\n    await tb.unpause({\n        as: owner.pkh,\n    });\n}, errors.CONTRACT_NOT_PAUSED);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f373112-160b-4066-a9d4-b4fa669c72a1&quot;,&quot;parentUUID&quot;:&quot;a8f748af-119e-4a0f-a498-1a94588622bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;550748da-2619-4acf-83e7-e3b90b88f15b&quot;,&quot;d752bf56-45a5-408a-8db5-585afd65e317&quot;,&quot;88a9dece-65b0-4822-8005-d4f07d2e3d2b&quot;,&quot;87dc9b61-4e8d-4b21-a01f-d0553d698ec8&quot;,&quot;dc55bd4e-d2fa-4d81-93d6-1a1d238ec0c9&quot;,&quot;3f373112-160b-4066-a9d4-b4fa669c72a1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18725,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;8bc0431b-cf21-44f1-80aa-731ead29f761&quot;,&quot;title&quot;:&quot;Add Minter&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Add minter as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Add Minter Add minter as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1641,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.add_minter({\n        argMichelson: `\&quot;${minter1.pkh}\&quot;`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4d1f5f0-84d1-4bdb-8685-2125565e9fd7&quot;,&quot;parentUUID&quot;:&quot;8bc0431b-cf21-44f1-80aa-731ead29f761&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add minter as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Add Minter Add minter as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6780,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(generatorLength(storage.minters) == 0);\nawait tb.add_minter({\n    argMichelson: `\&quot;${minter1.pkh}\&quot;`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\nassert(generatorLength(storage.minters) == 1);\nassert(storage.minters.has(minter1.pkh));\nawait tb.add_minter({\n    argMichelson: `\&quot;${outsider.pkh}\&quot;`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\nassert(generatorLength(storage.minters) == 2);\nassert(storage.minters.has(outsider.pkh));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bf2d001-c297-4c15-816f-a0438a09866c&quot;,&quot;parentUUID&quot;:&quot;8bc0431b-cf21-44f1-80aa-731ead29f761&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e4d1f5f0-84d1-4bdb-8685-2125565e9fd7&quot;,&quot;7bf2d001-c297-4c15-816f-a0438a09866c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8421,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;2ecf3c76-0b69-4944-b982-b8adb93fbb91&quot;,&quot;title&quot;:&quot;Mint&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Mint as non-minter should fail&quot;,&quot;fullTitle&quot;:&quot;Mint Mint as non-minter should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2716,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(!storage.minters.has(owner.pkh));\nconst currentTokenId = tokenId++;\nawait expectToThrow(async () =&gt; {\n    await tb.mint({\n        arg: {\n            itokenid: currentTokenId,\n            rate: [1, 10],\n            iamount: amount,\n            expiration: \&quot;2022-09-31T12:00:00Z\&quot;,\n            custodial: true,\n            itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n        },\n        as: owner.pkh,\n    });\n}, errors.INVALID_CALLER)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af2f6b4c-132c-44b2-874a-91b2911624f9&quot;,&quot;parentUUID&quot;:&quot;2ecf3c76-0b69-4944-b982-b8adb93fbb91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Mint with expiration date less than now should fail&quot;,&quot;fullTitle&quot;:&quot;Mint Mint with expiration date less than now should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2710,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(!storage.minters.has(owner.pkh));\nconst currentTokenId = tokenId++;\nawait expectToThrow(async () =&gt; {\n    await tb.mint({\n        arg: {\n            itokenid: currentTokenId,\n            rate: [1, 10],\n            iamount: amount,\n            expiration: \&quot;1995-03-20T00:00:00Z\&quot;,\n            custodial: true,\n            itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n        },\n        as: minter1.pkh,\n    });\n}, errors.MINT_DATE_LOWER)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef8c96fe-6228-441a-92b8-37e3968fb9e7&quot;,&quot;parentUUID&quot;:&quot;2ecf3c76-0b69-4944-b982-b8adb93fbb91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Mint with amount &lt;= 0 should fail&quot;,&quot;fullTitle&quot;:&quot;Mint Mint with amount &lt;= 0 should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2723,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(!storage.minters.has(owner.pkh));\nconst currentTokenId = tokenId++;\nawait expectToThrow(async () =&gt; {\n    await tb.mint({\n        arg: {\n            itokenid: currentTokenId,\n            rate: [1, 10],\n            iamount: zero,\n            expiration: \&quot;2023-03-20T00:00:00Z\&quot;,\n            custodial: true,\n            itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n        },\n        as: minter1.pkh,\n    });\n}, errors.MINT_AMOUNT_LOWER)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03897dae-7574-44c7-9a1c-0f8e3f00b736&quot;,&quot;parentUUID&quot;:&quot;2ecf3c76-0b69-4944-b982-b8adb93fbb91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Mint with rate &lt;= 0 should fail&quot;,&quot;fullTitle&quot;:&quot;Mint Mint with rate &lt;= 0 should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2696,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(!storage.minters.has(owner.pkh));\nconst currentTokenId = tokenId++;\nawait expectToThrow(async () =&gt; {\n    await tb.mint({\n        arg: {\n            itokenid: currentTokenId,\n            rate: [0, 10],\n            iamount: amount2,\n            expiration: \&quot;2023-03-20T00:00:00Z\&quot;,\n            custodial: true,\n            itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n        },\n        as: minter1.pkh,\n    });\n}, errors.MINT_RATE_LOWER)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b5b2037-b2af-4bac-a0cf-c2108eda135b&quot;,&quot;parentUUID&quot;:&quot;2ecf3c76-0b69-4944-b982-b8adb93fbb91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Mint with contract paused should fail&quot;,&quot;fullTitle&quot;:&quot;Mint Mint with contract paused should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6328,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(!storage.minters.has(owner.pkh));\nconst currentTokenId = tokenId++;\nawait tb.pause({\n    as: owner.pkh,\n});\nawait expectToThrow(async () =&gt; {\n    await tb.mint({\n        arg: {\n            itokenid: currentTokenId,\n            rate: [1, 10],\n            iamount: amount,\n            expiration: \&quot;2022-09-31T12:00:00Z\&quot;,\n            custodial: true,\n            itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n        },\n        as: minter1.pkh,\n    });\n}, errors.CONTRACT_PAUSED)\nawait tb.unpause({\n    as: owner.pkh,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8357e35-61b2-431c-8499-6d9d72b7dcdb&quot;,&quot;parentUUID&quot;:&quot;2ecf3c76-0b69-4944-b982-b8adb93fbb91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Mint as minter should succeed&quot;,&quot;fullTitle&quot;:&quot;Mint Mint as minter should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11251,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(storage.minters.has(minter1.pkh));\nlet currentTokenId = tokenId++;\nawait tb.mint({\n    arg: {\n        itokenid: currentTokenId,\n        rate: [1, 10],\n        iamount: amount,\n        expiration: \&quot;2022-09-31T12:00:00Z\&quot;,\n        custodial: true,\n        itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n    },\n    as: minter1.pkh,\n});\nstorage = await tb.getStorage();\nlet bigId = new BigNumber(currentTokenId);\nassert(hasBigNumber(storage.minters.get(minter1.pkh), bigId))\nlet balance = await getValueFromBigMap(\n    parseInt(storage.ledger),\n    exprMichelineToJson(`(Pair ${currentTokenId} \&quot;${minter1.pkh}\&quot;)`),\n    exprMichelineToJson(`(pair nat address)&#x27;`)\n);\nassert(parseInt(balance.int) == amount);\nfirstToken = currentTokenId;\ncurrentTokenId++;\nawait tb.mint({\n    arg: {\n        itokenid: currentTokenId,\n        rate: [1, 10],\n        iamount: amount2,\n        expiration: \&quot;2022-09-31T12:00:00Z\&quot;,\n        custodial: true,\n        itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n    },\n    as: outsider.pkh,\n});\nstorage = await tb.getStorage();\nbigId = new BigNumber(currentTokenId);\nassert(hasBigNumber(storage.minters.get(outsider.pkh), bigId))\nbalance = await getValueFromBigMap(\n    parseInt(storage.ledger),\n    exprMichelineToJson(`(Pair ${currentTokenId} \&quot;${outsider.pkh}\&quot;)`),\n    exprMichelineToJson(`(pair nat address)&#x27;`)\n);\nassert(parseInt(balance.int) == amount2);\nsecondToken = currentTokenId;\ncurrentTokenId++;\nawait tb.mint({\n    arg: {\n        itokenid: currentTokenId,\n        rate: [1, 10],\n        iamount: amount3,\n        expiration: \&quot;2022-10-31T12:00:00Z\&quot;,\n        custodial: false,\n        itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n    },\n    as: outsider.pkh,\n});\nstorage = await tb.getStorage();\nbigId = new BigNumber(currentTokenId);\nassert(hasBigNumber(storage.minters.get(outsider.pkh), bigId))\nbalance = await getValueFromBigMap(\n    parseInt(storage.ledger),\n    exprMichelineToJson(`(Pair ${currentTokenId} \&quot;${outsider.pkh}\&quot;)`),\n    exprMichelineToJson(`(pair nat address)&#x27;`)\n);\nassert(parseInt(balance.int) == amount3);\nthirdToken = currentTokenId;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe378722-ddb5-4193-aa3c-7498809f4460&quot;,&quot;parentUUID&quot;:&quot;2ecf3c76-0b69-4944-b982-b8adb93fbb91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Mint already minted tokenid should fail&quot;,&quot;fullTitle&quot;:&quot;Mint Mint already minted tokenid should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1649,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n            await tb.mint({\n                arg: {\n                    itokenid: firstToken,\n                    rate: [1, 10],\n                    iamount: amount,\n                    expiration: \&quot;2022-09-31T12:00:00Z\&quot;,\n                    custodial: true,\n                    itokenMetadata: [{ key: &#x27;&#x27;, value: &#x27;0x&#x27; }]\n                },\n                as: minter1.pkh,\n            });\n        }, errors.NO_DOUBLE_MINTING)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1a2c451-623b-4995-9fd2-db33ba33acd6&quot;,&quot;parentUUID&quot;:&quot;2ecf3c76-0b69-4944-b982-b8adb93fbb91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;af2f6b4c-132c-44b2-874a-91b2911624f9&quot;,&quot;ef8c96fe-6228-441a-92b8-37e3968fb9e7&quot;,&quot;03897dae-7574-44c7-9a1c-0f8e3f00b736&quot;,&quot;0b5b2037-b2af-4bac-a0cf-c2108eda135b&quot;,&quot;a8357e35-61b2-431c-8499-6d9d72b7dcdb&quot;,&quot;fe378722-ddb5-4193-aa3c-7498809f4460&quot;,&quot;c1a2c451-623b-4995-9fd2-db33ba33acd6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30073,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;a126a7d6-0456-4f05-8ab0-83742160df4e&quot;,&quot;title&quot;:&quot;Replace Minter&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Replace minter as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Replace Minter Replace minter as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1632,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.replace_minter({\n        arg: {\n            ominter: outsider.pkh,\n            nminter: minter2.pkh\n        },\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e6fcbc9-dffd-4631-837e-8ad9938b00d4&quot;,&quot;parentUUID&quot;:&quot;a126a7d6-0456-4f05-8ab0-83742160df4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Replace non-existent minter should fail&quot;,&quot;fullTitle&quot;:&quot;Replace Minter Replace non-existent minter should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1647,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.replace_minter({\n        arg: {\n            ominter: minter2.pkh,\n            nminter: owner1.pkh\n        },\n        as: owner.pkh,\n    });\n}, errors.OLD_MINTER_NOT_EXIST);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ae5a0dc-ef95-4ce9-b2b7-b151dd66a3da&quot;,&quot;parentUUID&quot;:&quot;a126a7d6-0456-4f05-8ab0-83742160df4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Replace with existent minter should fail&quot;,&quot;fullTitle&quot;:&quot;Replace Minter Replace with existent minter should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1652,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.replace_minter({\n        arg: {\n            ominter: outsider.pkh,\n            nminter: minter1.pkh\n        },\n        as: owner.pkh,\n    });\n}, errors.NEW_MINTER_EXIST);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d94a6175-ccc9-48a4-a060-73f08e446f26&quot;,&quot;parentUUID&quot;:&quot;a126a7d6-0456-4f05-8ab0-83742160df4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Replace minter as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Replace Minter Replace minter as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nassert(!storage.minters.has(minter2.pkh));\nassert(storage.minters.has(outsider.pkh));\nconst oldMinterTokens = storage.minters.get(outsider.pkh);\nconst oldMinterTokenBalances = {};\nfor (const tokenId of oldMinterTokens) {\n    const balance = await getValueFromBigMap(\n        parseInt(storage.ledger),\n        exprMichelineToJson(`(Pair ${tokenId} \&quot;${outsider.pkh}\&quot;)`),\n        exprMichelineToJson(`(pair nat address)&#x27;`)\n    );\n    oldMinterTokenBalances[tokenId] = parseInt(balance.int);\n}\nawait tb.replace_minter({\n    arg: {\n        ominter: outsider.pkh,\n        nminter: minter2.pkh\n    },\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\nassert(storage.minters.has(minter2.pkh));\nassert(!storage.minters.has(outsider.pkh));\nconst newMinterTokens = storage.minters.get(minter2.pkh);\nassert(bigNumberListComp(oldMinterTokens, newMinterTokens));\nfor (const n of newMinterTokens) {\n    const tMeta = await getValueFromBigMap(\n        parseInt(storage.token_metadata),\n        exprMichelineToJson(`${n}`),\n        exprMichelineToJson(`nat&#x27;`)\n    );\n    assert(tMeta.args[1].string == minter2.pkh);\n    const oldBalance = await getValueFromBigMap(\n        parseInt(storage.ledger),\n        exprMichelineToJson(`(Pair ${n} \&quot;${outsider.pkh}\&quot;)`),\n        exprMichelineToJson(`(pair nat address)&#x27;`)\n    );\n    assert(oldBalance == null);\n    const newBalance = await getValueFromBigMap(\n        parseInt(storage.ledger),\n        exprMichelineToJson(`(Pair ${n} \&quot;${minter2.pkh}\&quot;)`),\n        exprMichelineToJson(`(pair nat address)&#x27;`)\n    );\n    assert(parseInt(newBalance.int) == oldMinterTokenBalances[n]);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42bf7fdf-fe40-4b48-bb32-ca09095399a5&quot;,&quot;parentUUID&quot;:&quot;a126a7d6-0456-4f05-8ab0-83742160df4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3e6fcbc9-dffd-4631-837e-8ad9938b00d4&quot;,&quot;8ae5a0dc-ef95-4ce9-b2b7-b151dd66a3da&quot;,&quot;d94a6175-ccc9-48a4-a060-73f08e446f26&quot;,&quot;42bf7fdf-fe40-4b48-bb32-ca09095399a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13083,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;187988b1-ea1d-42b6-b30c-2cfc00d339d5&quot;,&quot;title&quot;:&quot;Minter as Operator&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Set minter as Operator as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Minter as Operator Set minter as Operator as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1647,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.set_minter_as_operator({\n        argMichelson: `${thirdToken}`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14b5b37b-7984-4fbb-8286-77bc1a27cab3&quot;,&quot;parentUUID&quot;:&quot;187988b1-ea1d-42b6-b30c-2cfc00d339d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Set minter as Operator as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Minter as Operator Set minter as Operator as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5001,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[8].prim == &#x27;False&#x27;);\nawait tb.set_minter_as_operator({\n    argMichelson: `${thirdToken}`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[8].prim == &#x27;True&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71d3c7cf-a07a-4031-81df-4eb4d151cbb7&quot;,&quot;parentUUID&quot;:&quot;187988b1-ea1d-42b6-b30c-2cfc00d339d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unset minter as Operator as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Minter as Operator Unset minter as Operator as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1634,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.unset_minter_as_operator({\n        argMichelson: `${thirdToken}`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;368ba452-72c2-4573-af7a-26e9875b0a66&quot;,&quot;parentUUID&quot;:&quot;187988b1-ea1d-42b6-b30c-2cfc00d339d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unset minter as Operator as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Minter as Operator Unset minter as Operator as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5055,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[8].prim == &#x27;True&#x27;);\nawait tb.unset_minter_as_operator({\n    argMichelson: `${thirdToken}`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[8].prim == &#x27;False&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e46652c-0f8e-4ddf-bdd4-418dedf1b62c&quot;,&quot;parentUUID&quot;:&quot;187988b1-ea1d-42b6-b30c-2cfc00d339d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;14b5b37b-7984-4fbb-8286-77bc1a27cab3&quot;,&quot;71d3c7cf-a07a-4031-81df-4eb4d151cbb7&quot;,&quot;368ba452-72c2-4573-af7a-26e9875b0a66&quot;,&quot;3e46652c-0f8e-4ddf-bdd4-418dedf1b62c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13337,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;e1f8bd47-357e-4c78-9b79-b66e2c074445&quot;,&quot;title&quot;:&quot;Freeze Token&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Freeze Token as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Freeze Token Freeze Token as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1671,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.freeze_token({\n        argMichelson: `${firstToken}`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a4b514a-dfc3-479a-bbb0-2aa95df3b0af&quot;,&quot;parentUUID&quot;:&quot;e1f8bd47-357e-4c78-9b79-b66e2c074445&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Freeze Token as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Freeze Token Freeze Token as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5000,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${firstToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[7].prim == &#x27;False&#x27;);\nawait tb.freeze_token({\n    argMichelson: `${firstToken}`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${firstToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[7].prim == &#x27;True&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;def098e3-fa57-420e-a9a5-a08d41f57ef7&quot;,&quot;parentUUID&quot;:&quot;e1f8bd47-357e-4c78-9b79-b66e2c074445&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Freeze frozen token should fail&quot;,&quot;fullTitle&quot;:&quot;Freeze Token Freeze frozen token should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1639,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.freeze_token({\n        argMichelson: `${firstToken}`,\n        as: owner.pkh,\n    });\n}, errors.TOKEN_FROZEN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51c02ecd-7648-4177-8524-d917f64af529&quot;,&quot;parentUUID&quot;:&quot;e1f8bd47-357e-4c78-9b79-b66e2c074445&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unfreeze Token as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Freeze Token Unfreeze Token as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1636,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.unfreeze_token({\n        argMichelson: `${firstToken}`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;607cb6dd-e148-4a9d-971a-a98927c034d7&quot;,&quot;parentUUID&quot;:&quot;e1f8bd47-357e-4c78-9b79-b66e2c074445&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unfreeze Token as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Freeze Token Unfreeze Token as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5017,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${firstToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[7].prim == &#x27;True&#x27;);\nawait tb.unfreeze_token({\n    argMichelson: `${firstToken}`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${firstToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[7].prim == &#x27;False&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71b89552-a17c-4aa9-8363-5946b38c30ef&quot;,&quot;parentUUID&quot;:&quot;e1f8bd47-357e-4c78-9b79-b66e2c074445&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unfreeze unfrozen token should fail&quot;,&quot;fullTitle&quot;:&quot;Freeze Token Unfreeze unfrozen token should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1638,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.unfreeze_token({\n        argMichelson: `${firstToken}`,\n        as: owner.pkh,\n    });\n}, errors.TOKEN_NOT_FROZEN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f32ff89-71e4-4002-9ec9-41e8f404e3dd&quot;,&quot;parentUUID&quot;:&quot;e1f8bd47-357e-4c78-9b79-b66e2c074445&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2a4b514a-dfc3-479a-bbb0-2aa95df3b0af&quot;,&quot;def098e3-fa57-420e-a9a5-a08d41f57ef7&quot;,&quot;51c02ecd-7648-4177-8524-d917f64af529&quot;,&quot;607cb6dd-e148-4a9d-971a-a98927c034d7&quot;,&quot;71b89552-a17c-4aa9-8363-5946b38c30ef&quot;,&quot;6f32ff89-71e4-4002-9ec9-41e8f404e3dd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16601,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;41e2eb64-91f8-42a5-b616-78926d12545b&quot;,&quot;title&quot;:&quot;Bond Intertransfer Pause&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Pause intertransfer as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer Pause Pause intertransfer as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1638,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.pause_inter_transfer({\n        argMichelson: `${thirdToken}`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cdf7228-8c09-41e8-9225-58131754d16d&quot;,&quot;parentUUID&quot;:&quot;41e2eb64-91f8-42a5-b616-78926d12545b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Pause intertransfer as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer Pause Pause intertransfer as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4979,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[5].prim == &#x27;False&#x27;);\nawait tb.pause_inter_transfer({\n    argMichelson: `${thirdToken}`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[5].prim == &#x27;True&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7335139-f299-4819-b6aa-17ca9e6b0814&quot;,&quot;parentUUID&quot;:&quot;41e2eb64-91f8-42a5-b616-78926d12545b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Pause intertransfer for intertransfer-paused-token should fail&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer Pause Pause intertransfer for intertransfer-paused-token should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1644,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.pause_inter_transfer({\n        argMichelson: `${thirdToken}`,\n        as: owner.pkh,\n    });\n}, errors.INTER_TRANSFER_PAUSED);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;690091d8-1915-40ee-90b9-a06c0abed5ce&quot;,&quot;parentUUID&quot;:&quot;41e2eb64-91f8-42a5-b616-78926d12545b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Resume intertransfer as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer Pause Resume intertransfer as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1652,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.resume_inter_transfer({\n        argMichelson: `${thirdToken}`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77fd99eb-111a-4b0f-a1cf-d9ed640d2075&quot;,&quot;parentUUID&quot;:&quot;41e2eb64-91f8-42a5-b616-78926d12545b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Resume intertransfer as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer Pause Resume intertransfer as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4972,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[5].prim == &#x27;True&#x27;);\nawait tb.resume_inter_transfer({\n    argMichelson: `${thirdToken}`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[5].prim == &#x27;False&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;861f8522-36ae-4a16-a7d3-fab09558e057&quot;,&quot;parentUUID&quot;:&quot;41e2eb64-91f8-42a5-b616-78926d12545b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Resume intertransfer for unpaused-intertransfer-token should fail&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer Pause Resume intertransfer for unpaused-intertransfer-token should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1646,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.resume_inter_transfer({\n        argMichelson: `${thirdToken}`,\n        as: owner.pkh,\n    });\n}, errors.INTER_TRANSFER_NOT_PAUSED);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9934a8a-6c10-4ad2-8f83-f172872f210b&quot;,&quot;parentUUID&quot;:&quot;41e2eb64-91f8-42a5-b616-78926d12545b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9cdf7228-8c09-41e8-9225-58131754d16d&quot;,&quot;b7335139-f299-4819-b6aa-17ca9e6b0814&quot;,&quot;690091d8-1915-40ee-90b9-a06c0abed5ce&quot;,&quot;77fd99eb-111a-4b0f-a1cf-d9ed640d2075&quot;,&quot;861f8522-36ae-4a16-a7d3-fab09558e057&quot;,&quot;a9934a8a-6c10-4ad2-8f83-f172872f210b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16531,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;1a6c8c57-2645-4de1-ad3d-e799d1b814e9&quot;,&quot;title&quot;:&quot;Bond Intertransfer after Expiry Pause&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Resume intertransfer-expiry as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer after Expiry Pause Resume intertransfer-expiry as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1672,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.resume_itr_after_expiry({\n        argMichelson: `${thirdToken}`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bb78957-4975-4a1a-8bcb-40081f1fa62f&quot;,&quot;parentUUID&quot;:&quot;1a6c8c57-2645-4de1-ad3d-e799d1b814e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Resume intertransfer-expiry as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer after Expiry Pause Resume intertransfer-expiry as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4976,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[6].prim == &#x27;True&#x27;);\nawait tb.resume_itr_after_expiry({\n    argMichelson: `${thirdToken}`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[6].prim == &#x27;False&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;783190a9-d8bd-46cf-8183-5303358e03ef&quot;,&quot;parentUUID&quot;:&quot;1a6c8c57-2645-4de1-ad3d-e799d1b814e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Resume intertransfer-expiry for unpaused-intertransfer-expiry-token should fail&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer after Expiry Pause Resume intertransfer-expiry for unpaused-intertransfer-expiry-token should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1645,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.resume_itr_after_expiry({\n        argMichelson: `${thirdToken}`,\n        as: owner.pkh,\n    });\n}, errors.INTER_TRANSFER_AFTER_EXPIRY_NOT_PAUSED);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c643950-bf37-4804-b78a-e1153eed2847&quot;,&quot;parentUUID&quot;:&quot;1a6c8c57-2645-4de1-ad3d-e799d1b814e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Pause intertransfer-expiry as non-owner should fail&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer after Expiry Pause Pause intertransfer-expiry as non-owner should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1666,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.pause_itr_after_expiry({\n        argMichelson: `${thirdToken}`,\n        as: outsider.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f43005b-134c-408e-b02c-af1873e90d61&quot;,&quot;parentUUID&quot;:&quot;1a6c8c57-2645-4de1-ad3d-e799d1b814e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Pause intertransfer-expiry as owner should succeed&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer after Expiry Pause Pause intertransfer-expiry as owner should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4989,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[6].prim == &#x27;False&#x27;);\nawait tb.pause_itr_after_expiry({\n    argMichelson: `${thirdToken}`,\n    as: owner.pkh,\n});\nstorage = await tb.getStorage();\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta.args[6].prim == &#x27;True&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8af9f64-20b4-494d-b0d3-49cc270c8bbe&quot;,&quot;parentUUID&quot;:&quot;1a6c8c57-2645-4de1-ad3d-e799d1b814e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Pause intertransfer-expiry for intertransfer-expiry-paused-token should fail&quot;,&quot;fullTitle&quot;:&quot;Bond Intertransfer after Expiry Pause Pause intertransfer-expiry for intertransfer-expiry-paused-token should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1674,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.pause_itr_after_expiry({\n        argMichelson: `${thirdToken}`,\n        as: owner.pkh,\n    });\n}, errors.INTER_TRANSFER_AFTER_EXPIRY_PAUSED);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fdf50333-2669-4dc7-8ce1-ab9d7edcc92f&quot;,&quot;parentUUID&quot;:&quot;1a6c8c57-2645-4de1-ad3d-e799d1b814e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7bb78957-4975-4a1a-8bcb-40081f1fa62f&quot;,&quot;783190a9-d8bd-46cf-8183-5303358e03ef&quot;,&quot;2c643950-bf37-4804-b78a-e1153eed2847&quot;,&quot;3f43005b-134c-408e-b02c-af1873e90d61&quot;,&quot;c8af9f64-20b4-494d-b0d3-49cc270c8bbe&quot;,&quot;fdf50333-2669-4dc7-8ce1-ab9d7edcc92f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16622,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;title&quot;:&quot;Burn Token&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Burn as non-minter should fail&quot;,&quot;fullTitle&quot;:&quot;Burn Token Burn as non-minter should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1660,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.burn({\n        arg: {\n            itokenid: thirdToken,\n            iamount: burnAmount,\n        },\n        as: owner.pkh,\n    });\n}, errors.INVALID_CALLER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;288e366f-fb05-463b-b447-d0dc188fd7f2&quot;,&quot;parentUUID&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Burn in paused mode should fail&quot;,&quot;fullTitle&quot;:&quot;Burn Token Burn in paused mode should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5341,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await tb.pause({\n    as: owner.pkh,\n});\nawait expectToThrow(async () =&gt; {\n    await tb.burn({\n        arg: {\n            itokenid: thirdToken,\n            iamount: burnAmount,\n        },\n        as: minter2.pkh,\n    });\n}, errors.CONTRACT_PAUSED);\nawait tb.unpause({\n    as: owner.pkh,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c55c71b5-2366-446a-938b-78d4aa2f3f58&quot;,&quot;parentUUID&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Burn amount &lt;= 0 should fail&quot;,&quot;fullTitle&quot;:&quot;Burn Token Burn amount &lt;= 0 should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1671,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.burn({\n        arg: {\n            itokenid: thirdToken,\n            iamount: zero,\n        },\n        as: minter2.pkh,\n    });\n}, errors.BURN_AMOUNT_LOWER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d6f21bd-22cc-41db-8bd9-17fa15a479ad&quot;,&quot;parentUUID&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Burn amount greater than token amount should fail&quot;,&quot;fullTitle&quot;:&quot;Burn Token Burn amount greater than token amount should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1666,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.burn({\n        arg: {\n            itokenid: thirdToken,\n            iamount: amount2,\n        },\n        as: minter2.pkh,\n    });\n}, errors.FA2_INSUFFICIENT_BALANCE);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a3d34a4-031f-4568-8e01-b3af95f1ad37&quot;,&quot;parentUUID&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Burn with non-existent token should fail&quot;,&quot;fullTitle&quot;:&quot;Burn Token Burn with non-existent token should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1663,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.burn({\n        arg: {\n            itokenid: invalidToken,\n            iamount: amount3,\n        },\n        as: minter2.pkh,\n    });\n}, errors.FA2_INSUFFICIENT_BALANCE);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;103511cc-0f94-4a74-ba75-fd6db0d21e9b&quot;,&quot;parentUUID&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Burn token by non-minter should fail&quot;,&quot;fullTitle&quot;:&quot;Burn Token Burn token by non-minter should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1678,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.burn({\n        arg: {\n            itokenid: firstToken,\n            iamount: amount,\n        },\n        as: minter2.pkh,\n    });\n}, errors.FA2_INSUFFICIENT_BALANCE);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba7b44c8-4fd4-4c5a-8197-90de0d741406&quot;,&quot;parentUUID&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Burn token should succeed&quot;,&quot;fullTitle&quot;:&quot;Burn Token Burn token should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5001,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet balance = await getValueFromBigMap(\n    parseInt(storage.ledger),\n    exprMichelineToJson(`(Pair ${thirdToken} \&quot;${minter2.pkh}\&quot;)`),\n    exprMichelineToJson(`(pair nat address)&#x27;`)\n);\nassert(parseInt(balance.int) == amount3);\nawait tb.burn({\n    arg: {\n        itokenid: thirdToken,\n        iamount: burnAmount,\n    },\n    as: minter2.pkh,\n});\namount3 = amount3 - burnAmount;\nstorage = await tb.getStorage();\nbalance = await getValueFromBigMap(\n    parseInt(storage.ledger),\n    exprMichelineToJson(`(Pair ${thirdToken} \&quot;${minter2.pkh}\&quot;)`),\n    exprMichelineToJson(`(pair nat address)&#x27;`)\n);\nassert(parseInt(balance.int) == amount3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66664eb4-592a-4edb-9d04-3a71500e1e6a&quot;,&quot;parentUUID&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Burn all token should remove token &amp; metadata should succeed &quot;,&quot;fullTitle&quot;:&quot;Burn Token Burn all token should remove token &amp; metadata should succeed &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6051,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let storage = await tb.getStorage();\nlet balance = await getValueFromBigMap(\n    parseInt(storage.ledger),\n    exprMichelineToJson(`(Pair ${thirdToken} \&quot;${minter2.pkh}\&quot;)`),\n    exprMichelineToJson(`(pair nat address)&#x27;`)\n);\nassert(parseInt(balance.int) == amount3);\nlet tMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta != null);\nawait tb.burn({\n    arg: {\n        itokenid: thirdToken,\n        iamount: amount3,\n    },\n    as: minter2.pkh,\n});\nstorage = await tb.getStorage();\nbalance = await getValueFromBigMap(\n    parseInt(storage.ledger),\n    exprMichelineToJson(`(Pair ${thirdToken} \&quot;${minter2.pkh}\&quot;)`),\n    exprMichelineToJson(`(pair nat address)&#x27;`)\n);\nassert(balance == null);\ntMeta = await getValueFromBigMap(\n    parseInt(storage.token_metadata),\n    exprMichelineToJson(`${thirdToken}`),\n    exprMichelineToJson(`nat&#x27;`)\n);\nassert(tMeta == null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46d7cd8a-c4cc-4634-bf6f-145ed0f6673a&quot;,&quot;parentUUID&quot;:&quot;f7eda12f-4be1-49ae-8cb0-6b492a27d76e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;288e366f-fb05-463b-b447-d0dc188fd7f2&quot;,&quot;c55c71b5-2366-446a-938b-78d4aa2f3f58&quot;,&quot;5d6f21bd-22cc-41db-8bd9-17fa15a479ad&quot;,&quot;5a3d34a4-031f-4568-8e01-b3af95f1ad37&quot;,&quot;103511cc-0f94-4a74-ba75-fd6db0d21e9b&quot;,&quot;ba7b44c8-4fd4-4c5a-8197-90de0d741406&quot;,&quot;66664eb4-592a-4edb-9d04-3a71500e1e6a&quot;,&quot;46d7cd8a-c4cc-4634-bf6f-145ed0f6673a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24731,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;291be6d8-1381-45f4-bac5-01dd09834016&quot;,&quot;title&quot;:&quot;Operator&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Add an operator for ourself should succeed&quot;,&quot;fullTitle&quot;:&quot;Operator Add an operator for ourself should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3912,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const storage = await tb.getStorage();\nlet initialOperators = await getValueFromBigMap(\n    parseInt(storage.operator),\n    exprMichelineToJson(\n        `(Pair \&quot;${tb.address}\&quot; (Pair ${firstToken} \&quot;${outsider.pkh}\&quot;))`\n    ),\n    exprMichelineToJson(`(pair address (pair nat address))&#x27;`)\n);\nassert(initialOperators == null);\nawait tb.update_operators({\n    argMichelson: `{Left (Pair \&quot;${outsider.pkh}\&quot; \&quot;${tb.address}\&quot; ${firstToken})}`,\n    as: outsider.pkh,\n});\nlet operatorsAfterAdd = await getValueFromBigMap(\n    parseInt(storage.operator),\n    exprMichelineToJson(\n        `(Pair \&quot;${tb.address}\&quot; (Pair ${firstToken} \&quot;${outsider.pkh}\&quot;))`\n    ),\n    exprMichelineToJson(`(pair address (pair nat address))&#x27;`)\n);\nassert(operatorsAfterAdd.prim == &#x27;Unit&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59cc17a5-d195-4723-b027-15153ba4dd45&quot;,&quot;parentUUID&quot;:&quot;291be6d8-1381-45f4-bac5-01dd09834016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Remove a non existing operator should succeed&quot;,&quot;fullTitle&quot;:&quot;Operator Remove a non existing operator should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1808,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await tb.update_operators({\n    argMichelson: `{Right (Pair \&quot;${outsider.pkh}\&quot; \&quot;${ama.pkh}\&quot; ${firstToken})}`,\n    as: outsider.pkh,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6adcb869-54f3-407a-9167-6496c468b7c7&quot;,&quot;parentUUID&quot;:&quot;291be6d8-1381-45f4-bac5-01dd09834016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Remove an existing operator for another user should fail&quot;,&quot;fullTitle&quot;:&quot;Operator Remove an existing operator for another user should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1647,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.update_operators({\n        argMichelson: `{Right (Pair \&quot;${outsider.pkh}\&quot; \&quot;${tb.address}\&quot; ${firstToken})}`,\n        as: ama.pkh,\n    });\n}, errors.CALLER_NOT_OWNER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18f5c9e9-3aa1-441c-9310-edefbbb7ca6a&quot;,&quot;parentUUID&quot;:&quot;291be6d8-1381-45f4-bac5-01dd09834016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add operator for another user should fail&quot;,&quot;fullTitle&quot;:&quot;Operator Add operator for another user should fail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1642,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expectToThrow(async () =&gt; {\n    await tb.update_operators({\n        argMichelson: `{Left (Pair \&quot;${owner.pkh}\&quot; \&quot;${tb.address}\&quot; ${firstToken})}`,\n        as: outsider.pkh,\n    });\n}, errors.CALLER_NOT_OWNER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fab660f3-95db-4cbd-9efc-2ef0e9b50dfc&quot;,&quot;parentUUID&quot;:&quot;291be6d8-1381-45f4-bac5-01dd09834016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Remove an existing operator should succeed&quot;,&quot;fullTitle&quot;:&quot;Operator Remove an existing operator should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3889,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const storage = await tb.getStorage();\nvar initialOperators = await getValueFromBigMap(\n    parseInt(storage.operator),\n    exprMichelineToJson(\n        `(Pair \&quot;${tb.address}\&quot; (Pair ${firstToken} \&quot;${outsider.pkh}\&quot;))`\n    ),\n    exprMichelineToJson(`(pair address (pair nat address))&#x27;`)\n);\nassert(initialOperators.prim == &#x27;Unit&#x27;);\nawait tb.update_operators({\n    argMichelson: `{Right (Pair \&quot;${outsider.pkh}\&quot; \&quot;${tb.address}\&quot; ${firstToken})}`,\n    as: outsider.pkh,\n});\nvar operatorsAfterRemoval = await getValueFromBigMap(\n    parseInt(storage.operator),\n    exprMichelineToJson(\n        `(Pair \&quot;${tb.address}\&quot; (Pair ${firstToken} \&quot;${outsider.pkh}\&quot;))`\n    ),\n    exprMichelineToJson(`(pair address (pair nat address))&#x27;`)\n);\nassert(operatorsAfterRemoval == null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b178656-8244-4a08-9d16-26e79e28cd2e&quot;,&quot;parentUUID&quot;:&quot;291be6d8-1381-45f4-bac5-01dd09834016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;59cc17a5-d195-4723-b027-15153ba4dd45&quot;,&quot;6adcb869-54f3-407a-9167-6496c468b7c7&quot;,&quot;18f5c9e9-3aa1-441c-9310-edefbbb7ca6a&quot;,&quot;fab660f3-95db-4cbd-9efc-2ef0e9b50dfc&quot;,&quot;9b178656-8244-4a08-9d16-26e79e28cd2e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12898,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0},{&quot;uuid&quot;:&quot;93d40952-531b-44a6-ac5c-8b33e7d3796e&quot;,&quot;title&quot;:&quot;Operator for All&quot;,&quot;fullFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/tokenized-bond.js&quot;,&quot;file&quot;:&quot;/tokenized-bond.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Add an operator for all for ourself should succeed&quot;,&quot;fullTitle&quot;:&quot;Operator for All Add an operator for all for ourself should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3905,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const storage = await tb.getStorage();\nvar initialOperators = await getValueFromBigMap(\n    parseInt(storage.operator_for_all),\n    exprMichelineToJson(\n        `(Pair \&quot;${tb.address}\&quot; \&quot;${outsider.pkh}\&quot;))`\n    ),\n    exprMichelineToJson(`(pair address address)&#x27;`)\n);\nassert(initialOperators == null);\nawait tb.update_operators_for_all({\n    argJsonMichelson: mkApproveForAllSingle(tb.address),\n    as: outsider.pkh\n});\nvar operatorsAfterAdd = await getValueFromBigMap(\n    parseInt(storage.operator_for_all),\n    exprMichelineToJson(\n        `(Pair \&quot;${tb.address}\&quot; \&quot;${outsider.pkh}\&quot;)`\n    ),\n    exprMichelineToJson(`(pair address address)&#x27;`)\n);\nassert(operatorsAfterAdd.prim == &#x27;Unit&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4625233c-c001-41c1-bb4e-45f159153c95&quot;,&quot;parentUUID&quot;:&quot;93d40952-531b-44a6-ac5c-8b33e7d3796e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Remove a non existing operator should succeed&quot;,&quot;fullTitle&quot;:&quot;Operator for All Remove a non existing operator should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1801,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await tb.update_operators_for_all({\n    argJsonMichelson: mkDeleteApproveForAllSingle(ama.pkh),\n    as: outsider.pkh\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1659a388-c4a4-4ab0-9f15-ed61c8a3afbd&quot;,&quot;parentUUID&quot;:&quot;93d40952-531b-44a6-ac5c-8b33e7d3796e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Remove an existing operator should succeed&quot;,&quot;fullTitle&quot;:&quot;Operator for All Remove an existing operator should succeed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3942,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const storage = await tb.getStorage();\nvar initialOperators = await getValueFromBigMap(\n    parseInt(storage.operator_for_all),\n    exprMichelineToJson(\n        `(Pair \&quot;${tb.address}\&quot; \&quot;${outsider.pkh}\&quot;)`\n    ),\n    exprMichelineToJson(`(pair address address)&#x27;`)\n);\nassert(initialOperators.prim == \&quot;Unit\&quot;);\nawait tb.update_operators_for_all({\n    argJsonMichelson: mkDeleteApproveForAllSingle(tb.address),\n    as: outsider.pkh\n});\nvar operatorsAfterRemoval = await getValueFromBigMap(\n    parseInt(storage.operator_for_all),\n    exprMichelineToJson(\n        `(Pair \&quot;${tb.address}\&quot; \&quot;${outsider.pkh}\&quot;)`\n    ),\n    exprMichelineToJson(`(pair address address)&#x27;`)\n);\nassert(operatorsAfterRemoval == null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da8cd212-54bd-4091-8df2-072393870e40&quot;,&quot;parentUUID&quot;:&quot;93d40952-531b-44a6-ac5c-8b33e7d3796e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4625233c-c001-41c1-bb4e-45f159153c95&quot;,&quot;1659a388-c4a4-4ab0-9f15-ed61c8a3afbd&quot;,&quot;da8cd212-54bd-4091-8df2-072393870e40&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9648,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:0}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:0}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;9.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.3.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;tests&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/baahkusi/repos/ejara/tokenized-contract/tests/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>